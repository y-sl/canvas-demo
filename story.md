一、 角色与总体目标
你是一位顶尖的前端架构师。你的任务是从零开始，全新构建一个功能完整的“可视化页面搭建原型”。这个原型需要具备高度的交互性、灵活性和可扩展性，让用户可以通过可视化操作，完成一个动态活动页面的所有元素配置。

二、 技术栈要求
核心库： Fabric.js (v5.x)，用于处理所有画布（Canvas）相关的交互。

样式： Tailwind CSS，用于快速构建现代化、美观的界面。

基础： HTML 和 原生JavaScript (ES6+)。

交付物： 一个功能完整的、所有代码都在内的单文件HTML应用。

三、 核心功能需求 (Feature List)
请严格按照以下需求实现所有功能：

1. 整体界面布局
采用三栏式布局：

左栏：管理后台（画布区），用于上传背景图和绘制模块。

中栏：属性配置面板，用于编辑当前选中模块的详细属性。

右栏：H5实时预览，模拟手机界面，实时展示最终效果。

2. 管理后台 (画布区) 功能
背景图上传： 提供一个“上传背景长图”的按钮，用户可以选择本地图片作为画布背景。

画布响应式显示： Fabric.js画布的宽度必须自动缩放，以100%适应其父容器的宽度，并保持原始图片的宽高比。画布不应出现横向滚动条。画布内的所有内容（背景图和模块）都应同步缩放。

模块绘制与交互：

用户可以通过在画布上按住鼠标并拖拽来创建一个新的矩形模块。

所有创建出的模块都应是可选中、可移动、可缩放的（Fabric.js的默认行为）。

3. 属性配置面板功能
动态展示：

默认状态下，提示用户“请在左侧图中拖拽或选择一个模块”。

当用户在画布上选中一个模块时，此面板会显示出该模块的所有可配置属性。

模块类型系统：

必须提供一个**“模块类型（Module Type）”**的下拉选择框。

支持以下四种模块类型：BUTTON (跳转按钮), VIDEO (视频播放), GIF (动态图), TEXT (文本)。

动态配置项（根据模块类型变化）：

当类型为 TEXT 时：

textContent (文本内容): 使用 <textarea>。

fontSize (字号): 数字输入框。

color (文字颜色): 颜色选择器 <input type="color">。

fontWeight (字重): 下拉框（normal, bold）。

textAlign (对齐方式): 下拉框（left, center, right）。

当类型为 BUTTON 时（需支持多种事件）：

增加一个**“事件类型（Action Type）”**下拉框，包含 JUMP_URL, OPEN_VIP_PAGE, SHOW_TOAST。

根据选择的事件类型，动态显示不同输入框：

JUMP_URL: 显示“跳转链接(URL)”输入框。

OPEN_VIP_PAGE: 无需额外输入。

SHOW_TOAST: 显示“提示文字”输入框。

当类型为 VIDEO 或 GIF 时： 提供对应的URL输入框及其他相关配置（如自动播放、静音等）。

删除功能： 提供一个“删除此模块”按钮，可删除当前选中的模块。

4. H5实时预览功能
外观模拟： 右栏需要模拟成一个手机的外观。

内容渲染：

实时显示后台上传的背景长图。

根据画布上所有模块的位置、大小和类型，实时、精确地在手机屏幕上渲染出对应的元素。

响应式定位： 模块的位置和大小必须基于百分比进行渲染，确保在预览中完美自适应。

功能模拟： 渲染出的模块必须是可交互的。例如，按钮被点击时应能模拟触发对应事件（如 alert 提示），视频应能播放。

5. 保存配置功能
在界面上提供一个**“保存配置”**按钮。

点击后，程序需要生成并展示一个包含整个页面所有配置信息的最终JSON数据。

JSON生成规则：

遍历画布上的所有模块对象。

所有模块的几何信息（位置和尺寸）必须计算为相对于背景图总宽高的百分比。

数据结构必须清晰，严格遵循下面的示例格式。

JSON结构示例：

{
  "backgroundImageUrl": "data:image/jpeg;base64,...(或服务器URL)",
  "modules": [
    {
      "type": "BUTTON",
      "rect": { "left": "10.5%", "top": "25.2%", "width": "80%", "height": "5.5%" },
      "action": { 
        "type": "SHOW_TOAST", 
        "data": { "text": "这是一个弹窗提示！" }
      }
    },
    {
      "type": "TEXT",
      "rect": { "left": "15%", "top": "60%", "width": "70%", "height": "10%" },
      "data": { 
        "textContent": "这是我的活动说明！",
        "fontSize": 14,
        "color": "#FFFFFF",
        "fontWeight": "bold",
        "textAlign": "center"
      }
    }
  ]
}
